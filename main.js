(()=>{"use strict";async function e(e){const n=await fetch(e,{mode:"cors"});return await n.json()}function n(e,n,t,s,c,a,i){const o=document.querySelector(".temperature"),d=document.querySelector(".weather-elements"),r=document.createElement("div");r.classList.add("temp-low-high"),r.innerHTML=`\n    <div class="temp-low">${c}°F / ${t}°C</div>\n    <div class="temp-high">${a}°F / ${s}°C</div>\n  `,o.appendChild(r);const l=document.createElement("div");l.classList.add("element"),l.innerHTML=`\n  <i class="fa-solid fa-sunrise sunrise-icon icon"></i>\n  <p class="sunrise-text">${e}</p>\n  `;const f=document.createElement("div");f.classList.add("element"),f.innerHTML=`\n  <i class="fa-solid fa-sunset sunset-icon icon"></i>\n  <p class="sunset-text">${n}</p>\n  `;const u=document.createElement("div");u.classList.add("element"),u.innerHTML=`\n  <i class="fa-solid fa-droplet rain-chance-icon icon"></i>\n  <p class="rain-chance-text">${i} %</p>\n  `,d.appendChild(l),d.appendChild(f),d.appendChild(u)}function t(e,n,t,s,c,a,i,o,d){const r=document.querySelector(".forecasts"),l=document.createElement("div");l.classList.add("forecast-day"),l.innerHTML=`\n  <div class="forecast-day-row">\n    <div class="forecast-date">${t}</div>\n    <div class="forecast-low-temp">L: ${a}°F / ${s}°C</div>\n    <div class="forecast-high-temp">H: ${i}°F / ${c}°C</div>\n  </div>\n  <div class="forecast-day-row">\n    <div class="forecast-condition">\n      <img \n        src="${d}" \n        alt="forecast weather condition" \n        class="forecast-condition-icon"\n      >\n      <p class="forecast-condition-text">${o}</p>\n    </div>\n    <div class="forecast-sunrise">\n      <i class="fa-solid fa-sunrise forecast-sunrise-icon"></i>\n      <p class="forecast-sunrise-text">${e}</p>\n    </div>\n    <div class="forecast-sunset">\n    <i class="fa-solid fa-sunset forecast-sunset-icon"></i>\n    <p class="forecast-sunset-text">${n}</p>\n    </div>\n  </div>\n  `,r.appendChild(l)}const s=document.querySelector(".search-form"),c=function(){s.addEventListener("submit",(s=>{s.preventDefault();const c=search.value;if(""===c)alert("Please enter a location.");else{const s=`https://api.weatherapi.com/v1/forecast.json?key=dc93279af19f4c45a1d143219232909&q=${c}&days=3`;(function(n,t){e(n).then((e=>{const n=e.location.name,{country:t}=e.location,s=e.location.localtime,c=e.current.condition.icon,a=e.current.condition.text,i=e.current.temp_c,o=e.current.temp_f,d=e.current.wind_mph,r=e.current.wind_kph;!function(e){const n=document.querySelector("body");1===e?(document.body.style.color="black",document.body.style.textShadow="none",n.style.backgroundImage="url('./images/day.webp')"):(document.body.style.color="white",document.body.style.textShadow="1px 0 0 #000, 0 -1px 0 #000, 0 1px 0 #000, -1px 0 0 #000",n.style.backgroundImage="url('./images/night.jpg')")}(e.current.is_day),function(e,n,t,s,c,a,i,o,d){const r=document.querySelector(".current-day");r.style.visibility="visible",document.querySelector(".header").innerHTML=`\n    <div class="location">\n        <div class="location-name">${e},</div>\n        <div class="location-country">${n}</div>\n    </div>\n    <div class="time">${t}</div>\n  `,r.innerHTML=`\n  <div class="condition">\n  <img src="${c}" alt="weather condition" class="condition-icon">\n    <p class="condition-text">${s}</p>\n  </div>\n  <div class="temperature">\n    <div class="current-temp">${i}°F / ${a}°C</div>\n  </div>\n  <div class="weather-elements">\n    <div class="element">\n    <i class="fa-solid fa-wind wind-speed-icon icon"></i>\n      <p class="wind-speed-text">${d} MPH</p>\n      <p class="wind-speed-text">${o} KPH</p>\n    </div>\n  </div>\n  `}(n,t,s,a,c,i,o,r,d)})).catch((()=>{alert(`Can't find ${t}. Please try again.`)}))})(s,c),function(s,c){document.querySelector(".forecasts").innerHTML="",e(s).then((e=>{for(let s=0;s<3;s++){const{sunrise:c}=e.forecast.forecastday[s].astro,{sunset:a}=e.forecast.forecastday[s].astro,{date:i}=e.forecast.forecastday[s],o=e.forecast.forecastday[s].day.mintemp_c,d=e.forecast.forecastday[s].day.maxtemp_c,r=e.forecast.forecastday[s].day.mintemp_f,l=e.forecast.forecastday[s].day.maxtemp_f,f=e.forecast.forecastday[s].day.condition.text,u=e.forecast.forecastday[s].day.condition.icon,m=e.forecast.forecastday[s].day.daily_chance_of_rain;0===s?n(c,a,o,d,r,l,m):t(c,a,i,o,d,r,l,f,u)}})).catch((()=>{alert(`Can't find ${c}. Please try again.`)}))}(s,c)}}))};document.addEventListener("DOMContentLoaded",(()=>{c()}))})();